#:kivy 1.9.0
#: import NoTransition kivy.uix.screenmanager.NoTransition
#: import GridLayout kivy.uix.gridlayout.GridLayout

ScreenManagement:
    id: screen_manager
    transition: NoTransition()
    MenuScreen:
        name:"menu"
        on_pre_enter: app.screen_change("menu")
    GameScreen:
        name:"game"
        on_pre_enter: app.screen_change("game")

<MenuScreen>:
    Button:
        on_press: root.manager.current = "game"
        text: "Play !"

<DiceMazeGame>:
    canvas:
        Color:
            rgb: app.rgb(52, 152, 219)
        Rectangle:
            pos: self.pos
            size: self.size
    GridLayout:
        id: game_zone
        size_hint: None, None
        pos_hint: {'center_x':.5, 'center_y':.5}
    Image:
        id: dice
        size_hint: None, None
        allow_stretch: True
        anim_delay: .02
        anim_loop: 3
    Button:
        id: pause
        size_hint: .1,.1
        pos_hint: {'top':.99, 'right':.99}
        on_press: app.show_popup()

<ResumeModal>:
    id: popup
    size_hint: .4, .4
    BoxLayout:
        id: boxlayout
        orientation: 'vertical'
        Button:
            id: resume
            text:"Resume"
            on_press: root.dismiss()
        Button:
            id: restart
            text:"Restart"
            on_press: app.root.current = "game"; root.dismiss()
        Button:
            id: menu
            text:"Menu"
            on_press: app.root.current = "menu"; root.dismiss()